{"version":3,"sources":["../../src/resolvers/Resolver.js"],"names":["Resolver","constructor","forge","binding","resolve","context","args","Error","name","resolveDependencies","dependencies","map","dep","arguments","hint","all"],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAMA,QAAN,CAAe;;AAEbC,cAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAC1B,0BAAO,OAAP,EAAgBD,KAAhB;AACA,0BAAO,SAAP,EAAkBC,OAAlB;AACA,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,OAAL,GAAeA,OAAf;AACD;;AAEDC,UAAQC,OAAR,EAAiBC,IAAjB,EAAuB;AACrB,UAAM,IAAIC,KAAJ,CAAW,mCAAkC,KAAKN,WAAL,CAAiBO,IAAK,EAAnE,CAAN;AACD;;AAEDC,sBAAoBJ,OAApB,EAA6BK,YAA7B,EAA2CJ,IAA3C,EAAiD;AAC/C,WAAOI,aAAaC,GAAb,CAAiBC,OAAO;AAC7B,UAAIA,IAAIJ,IAAJ,KAAa,OAAjB,EAA0B,OAAO,KAAKN,KAAZ;AAC1B,UAAII,KAAKM,IAAIJ,IAAT,CAAJ,EAAoB,OAAOF,KAAKM,IAAIJ,IAAT,CAAP;AACpB,UAAI,KAAKL,OAAL,CAAaU,SAAb,CAAuBD,IAAIJ,IAA3B,CAAJ,EAAsC,OAAO,KAAKL,OAAL,CAAaU,SAAb,CAAuBD,IAAIJ,IAA3B,CAAP;AACtC,aAAO,KAAKN,KAAL,CAAWE,OAAX,CAAmBQ,IAAIJ,IAAvB,EAA6BH,OAA7B,EAAsCO,IAAIE,IAA1C,EAAgDF,IAAIG,GAApD,CAAP;AACD,KALM,CAAP;AAMD;;AApBY;;kBAwBAf,Q","file":"Resolver.js","sourcesContent":["import ensure from '../util/ensure';\n\nclass Resolver {\n\n  constructor(forge, binding) {\n    ensure('forge', forge);\n    ensure('binding', binding);\n    this.forge = forge;\n    this.binding = binding;\n  }\n\n  resolve(context, args) {\n    throw new Error(`You must implement resolve() on ${this.constructor.name}`);\n  }\n\n  resolveDependencies(context, dependencies, args) {\n    return dependencies.map(dep => {\n      if (dep.name === 'forge') return this.forge;\n      if (args[dep.name]) return args[dep.name];\n      if (this.binding.arguments[dep.name]) return this.binding.arguments[dep.name];\n      return this.forge.resolve(dep.name, context, dep.hint, dep.all);\n    });\n  }\n\n}\n\nexport default Resolver;\n"]}